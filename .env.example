# ===========================================
# BETS-ESTATISTICA - Environment Variables
# ===========================================
# Copie este arquivo para .env e preencha os valores
# Variáveis marcadas com (obrigatório) são necessárias para o bot funcionar
# Variáveis marcadas com (opcional) têm valores default

# ===========================================
# SUPABASE (obrigatório)
# ===========================================
SUPABASE_URL=https://your-project.supabase.co           # URL do projeto Supabase
SUPABASE_SERVICE_KEY=sb_secret_your-service-key         # Service role key (não anon key!)
SUPABASE_DB_PASSWORD=your-db-password                   # Password para conexão direta via DATABASE_URL

# Conexão direta PostgreSQL (alternativa ao client Supabase)
DATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres

# ===========================================
# TELEGRAM (obrigatório)
# ===========================================
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz  # Token do @BotFather
TELEGRAM_ADMIN_GROUP_ID=-1001234567890                    # ID do grupo admin (número negativo)
TELEGRAM_PUBLIC_GROUP_ID=-1001234567891                   # ID do grupo público (número negativo)

# ===========================================
# OPENAI (obrigatório)
# ===========================================
OPENAI_API_KEY=sk-your-openai-key                        # API key da OpenAI

# ===========================================
# APIS EXTERNAS (obrigatório)
# ===========================================
THE_ODDS_API_KEY=your-odds-api-key                       # API key do The Odds API
FOOTYSTATS_API_KEY=your-footystats-key                   # API key do FootyStats

# ===========================================
# MERCADO PAGO / CAKTO - MEMBERSHIP (obrigatório para Epic 16+)
# ===========================================
MP_ACCESS_TOKEN=APP_USR-xxx                              # Access token do Mercado Pago
MP_CHECKOUT_URL=https://www.mercadopago.com.br/checkout/v1/redirect?pref_id=xxx  # URL de checkout
MP_WEBHOOK_SECRET=your-webhook-secret                    # Secret para validação HMAC dos webhooks
MP_WEBHOOK_PORT=3001                                     # Porta do webhook server (opcional, default: 3001)

# Aliases para compatibilidade (usados como fallback)
# CAKTO_CHECKOUT_URL=                                    # Fallback para MP_CHECKOUT_URL
# CAKTO_WEBHOOK_PORT=                                    # Fallback para MP_WEBHOOK_PORT

# ===========================================
# MEMBERSHIP CONFIG (opcional)
# ===========================================
MEMBERSHIP_TRIAL_DAYS=7                                  # Dias de trial para novos membros (default: 7)
MEMBERSHIP_SUBSCRIPTION_PRICE=R$50/mês                   # Preço exibido nas mensagens de cobrança
# TRIAL_DAYS=7                                           # Alias legado para MEMBERSHIP_TRIAL_DAYS

# ===========================================
# AGENT CONFIG (opcional)
# ===========================================
AGENT_MODEL=gpt-4o                                       # Modelo OpenAI para análises (default: gpt-4o)
AGENT_TEMPERATURE=0.3                                    # Temperature do modelo (default: 0.3)
AGENT_MAX_STEPS=10                                       # Máximo de steps do agente (default: 10)
AGENT_TIMEOUT_MS=120000                                  # Timeout geral do agente em ms (default: 120000)
AGENT_MATCH_TIMEOUT_MS=60000                             # Timeout por partida em ms (default: 60000)
AGENT_CONCURRENCY=3                                      # Partidas analisadas em paralelo (default: 3)
AGENT_QUEUE_WINDOW_HOURS=48                              # Janela de busca de partidas em horas (default: 48)
AGENT_DEBUG=false                                        # Ativa logs de debug do agente (default: false)

# ===========================================
# ANALYSIS CONFIG (opcional)
# ===========================================
ANALYSIS_WINDOW_HOURS=72                                 # Janela de análise de partidas (default: 72)
ANALYSIS_QUEUE_LOOKBACK_HOURS=24                         # Lookback para fila de análise (default: 24)
MAIN_AGENT_WINDOW_HOURS=48                               # Janela do agente principal (default: 48)
MAX_PENDING_MATCHES=50                                   # Máximo de partidas pendentes (default: 50)
MATCH_COMPLETION_GRACE_HOURS=3                           # Horas de espera após fim do jogo (default: 3)

# ===========================================
# SEASONS (opcional)
# ===========================================
SEASON_IDS=12345,67890                                   # IDs de temporadas FootyStats (comma-separated)

# ===========================================
# SERVER CONFIG (opcional)
# ===========================================
NODE_ENV=development                                     # Ambiente: development | production
TZ=America/Sao_Paulo                                     # Timezone do servidor
PORT=3000                                                # Porta do servidor Express (default: 3000)
HOST=0.0.0.0                                             # Host do servidor (default: 0.0.0.0)

# ===========================================
# RENDER.COM (produção)
# ===========================================
# RENDER_EXTERNAL_URL=                                   # URL externa (setada automaticamente pelo Render)
# WEBHOOK_URL=                                           # URL do webhook para callbacks

# ===========================================
# SEED / TESTE (usado por scripts/seed-admin-users.js)
# ===========================================
SEED_ADMIN_PASSWORD=your-secure-test-password              # Senha dos usuários admin de teste

# ===========================================
# DESENVOLVIMENTO / DEBUG (opcional)
# ===========================================
SKIP_WEBHOOK_VALIDATION=false                            # Pular validação HMAC em dev (NUNCA em prod!)
# API_KEY=                                               # API key genérica para testes

# ===========================================
# POSTGRESQL DIRETO (alternativa, raramente usado)
# ===========================================
# PGHOST=db.xxx.supabase.co
# PGPORT=5432
# PGDATABASE=postgres
# PGUSER=postgres
# PGPASSWORD=your-password
# PGSSL=true
# PGSSL_REJECT_UNAUTHORIZED=false
