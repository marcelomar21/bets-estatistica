# Render Blueprint - bets-estatistica
# Deploy: Connect repo to Render and it will auto-detect this file

services:
  # Main bot service (long-running for receiving messages)
  - type: web
    name: bets-bot
    runtime: node
    plan: free
    buildCommand: npm install
    startCommand: node bot/index.js
    healthCheckPath: /
    envVars:
      - key: NODE_ENV
        value: production
      - key: TZ
        value: America/Sao_Paulo
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_SERVICE_KEY
        sync: false
      - key: TELEGRAM_BOT_TOKEN
        sync: false
      - key: TELEGRAM_ADMIN_GROUP_ID
        sync: false
      - key: TELEGRAM_PUBLIC_GROUP_ID
        sync: false
      - key: THE_ODDS_API_KEY
        sync: false
      - key: OPENAI_API_KEY
        sync: false
      - key: FOOTYSTATS_API_KEY
        sync: false

# Cron jobs for scheduled tasks
# Note: Render Cron requires paid plan. For free tier, use external cron service.
# Times are in UTC. SÃ£o Paulo is UTC-3, so:
#   - 8h SP = 11h UTC
#   - 10h SP = 13h UTC
#   - 13h SP = 16h UTC
#   - 15h SP = 18h UTC
#   - 20h SP = 23h UTC
#   - 22h SP = 01h UTC (next day)

# Uncomment below if using Render paid plan:
# cron:
#   - name: request-links-morning
#     schedule: "0 11 * * *"
#     command: node bot/jobs/requestLinks.js morning
#   - name: post-bets-morning
#     schedule: "0 13 * * *"
#     command: node bot/jobs/postBets.js morning
#   - name: request-links-afternoon
#     schedule: "0 16 * * *"
#     command: node bot/jobs/requestLinks.js afternoon
#   - name: post-bets-afternoon
#     schedule: "0 18 * * *"
#     command: node bot/jobs/postBets.js afternoon
#   - name: request-links-night
#     schedule: "0 23 * * *"
#     command: node bot/jobs/requestLinks.js night
#   - name: post-bets-night
#     schedule: "0 1 * * *"
#     command: node bot/jobs/postBets.js night
#   - name: reminders
#     schedule: "*/30 * * * *"
#     command: node bot/jobs/reminders.js
#   - name: track-results
#     schedule: "*/5 * * * *"
#     command: node bot/jobs/trackResults.js
#   - name: enrich-odds
#     schedule: "0 */2 * * *"
#     command: node bot/jobs/enrichOdds.js
